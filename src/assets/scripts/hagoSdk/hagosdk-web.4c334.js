(function(e,t){for(var n in t)e[n]=t[n]})(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=62)}([function(e,t,n){"use strict";n(49),n(40),n(51);var r=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=new(function(){function e(){var t=this;o(this,e),console.log("hg.App constructor"),this.asyncId=1e5,this.asyncCallbacks={},this.listeners={},window.yyrt?(this.code=this.sync("hg.code"),this.openid=this.sync("hg.openid"),this.gameId=this.sync("hg.gameId"),this.uid=this.sync("hg.uid"),this.host=this.sync("hg.apiHost"),this.roomId=this.sync("hg.roomId")||"",this.gameUrl=this.sync("hg.gameUrl")||"",this.imageResizeParam=this.sync("hg.imageResizeParam")||"",this.userInfo=JSON.parse(this.sync("hg.getUserInfo")),this.userInfo.openid=this.openid,this.userInfo.avatarUrl=this.resizeImage(this.userInfo.avatarUrl),this.systemInfo=JSON.parse(this.sync("hg.getSystemInfoSync")),this.gameInviteInfo=this.sync("hg.gameInviteInfo")||"",console.log("hg.App code:"+this.code),console.log("hg.App hg.openid:"+this.openid),r.a.setHost(this.host),console.log("hg.App apiHost:"+this.host),window.addEventListener("onReceiveMessageFromApp",function(e){var n=e.appMsgObj,r=n.type,o=n.msgObj,i=n.tag;if(console.log("hg onReceiveMessageFromApp: "+r+", tag:"+i+",msgObj:"+JSON.stringify(o)),t.asyncCallbacks[i]){if(o.jsonData){var s=JSON.parse(o.jsonData);t.asyncCallbacks[i].callback(s,r)}else t.asyncCallbacks[i].callback(o,r);t.asyncCallbacks[i]&&!t.asyncCallbacks[i].keep&&delete t.asyncCallbacks[i]}if(t.listeners[r]){var c={};o.jsonData&&(c=JSON.parse(o.jsonData)),t.listeners[r](c,r)}})):(this.imageResizeParam="",console.log("hagosdk web environment "))}var t,n;return t=e,(n=[{key:"getFriendUids",value:function(e){var t=this;this.friendUids?e(this.friendUids):this.async("hg.friendUids",null,function(n){t.friendUids=JSON.parse(n.uids),console.log("hg.friendUids:"+JSON.stringify(t.friendUids)),e(t.friendUids)})}},{key:"listen",value:function(e,t){this.listeners[e]=t}},{key:"cancelListen",value:function(){delete this.listeners.type}},{key:"sync",value:function(e,t,n){var r=window.yyrt.sendMessageToAppSync(e,t,n);return console.log("hg yyrt.sendMessageToAppSync "+e+",result:"+r),r}},{key:"syncV1",value:function(e,t,n){t={jsondata:JSON.stringify(t),version:1},this.sync(e,t,n)}},{key:"async",value:function(e,t,n,r){if(this.asyncId++,n){var o={callback:n,keep:r};this.asyncCallbacks[this.asyncId]=o}return console.log("hg yyrt.sendMessageToAppAsync "+e+",tag:"+this.asyncId),window.yyrt&&window.yyrt.sendMessageToApp(e,t,this.asyncId),this.asyncId}},{key:"asyncV1",value:function(e,t,n,r){t={jsondata:JSON.stringify(t),version:1},this.async(e,t,n,r)}},{key:"deleteCallbackById",value:function(e){delete this.asyncCallbacks[e]}},{key:"resizeImage",value:function(e){return e&&-1==e.indexOf("?")&&(e+=this.imageResizeParam,console.log("hagosdk resizeImage "+e)),e}}])&&i(t.prototype,n),e}());t.a=s},function(e,t,n){var r=n(34)("wks"),o=n(17),i=n(2).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("","return this")();"number"==typeof __g&&(__g=t)},function(e,t){"use strict";var n=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var e;try{e=JSON.parse(n.responseText)}catch(r){return console.error(r),void t(!1,{errcode:-10,errmsg:"ClientJSONParseError"})}t(!0,e)}else t(!1,{errcode:-10,errmsg:"HttpStatusCodeError "+n.status})},n.open("GET",e,!0),n.send()},r=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var e;try{e=JSON.parse(r.responseText)}catch(t){return console.error(t),void n(!1,{errcode:-10,errmsg:"ClientJSONParseError"})}n(!0,e)}else n(!1,{errcode:-10,errmsg:"HttpStatusCodeError "+r.status})},r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(JSON.stringify(t))},o="https://access-api-test-id.ihago.net";function i(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}t.a={getApi:function(e,t,r){var s=o+e;t&&(s+="?"+i(t)),n(s,r)},postApi:function(e,t,n){r(o+e,t,n)},setHost:function(e){o=e}}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(2),o=n(14),i=n(10),s=n(12),c=n(15),a=function(e,t,n){var u,l,f,d,h=e&a.F,p=e&a.G,g=e&a.S,y=e&a.P,v=e&a.B,m=p?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?o:o[t]||(o[t]={}),S=b.prototype||(b.prototype={});for(u in p&&(n=t),n)f=((l=!h&&m&&void 0!==m[u])?m:n)[u],d=v&&l?c(f,r):y&&"function"==typeof f?c(Function.call,f):f,m&&s(m,u,f,e&a.U),b[u]!=f&&i(b,u,d),y&&S[u]!=f&&(S[u]=f)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(5),o=n(46),i=n(22),s=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(7),o=n(23);e.exports=n(8)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){var r=n(2),o=n(10),i=n(11),s=n(17)("src"),c=Function.toString,a=(""+c).split("toString");n(14).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,c){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,s)||o(n,s,e[t]?""+e[t]:a.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||c.call(this)})},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(31),o=n(19);e.exports=function(e){return r(o(e))}},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e,t,n){var r=n(47),o=n(35);e.exports=Object.keys||function(e){return r(e,o)}},function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e){e.exports=!1},function(e){e.exports={}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(32),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(7).f,o=n(11),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){for(var r=n(83),o=n(18),i=n(12),s=n(2),c=n(10),a=n(21),u=n(1),l=u("iterator"),f=u("toStringTag"),d=a.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),g=0;g<p.length;g++){var y,v=p[g],m=h[v],b=s[v],S=b&&b.prototype;if(S&&(S[l]||c(S,l,d),S[f]||c(S,f,v),a[v]=d,m))for(y in r)S[y]||i(S,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(0);t.a={reportMetrics:function(e){e?r.a.asyncV1("hg.reportMetrics",{uri:e.uri,time:e.time,returnCode:e.code},function(e,t){console.log("hg.reportMetrics"+e+t)}):console.log("invalid object")}}},function(e,t,n){var r=n(4),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(13);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,t,n){var r=n(34)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(14),o=n(2),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(20)?"pure":"global",copyright:"\u6f0f 2018 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(19);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(13),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(c=r(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t,n){"use strict";var r,o,i=n(71),s=RegExp.prototype.exec,c=String.prototype.replace,a=s,u=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(a=function(e){var t,n,r,o,a=this;return l&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),u&&(t=a.lastIndex),r=s.call(a,e),u&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),l&&r&&r.length>1&&c.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),e.exports=a},function(e,t,n){var r=n(6);r(r.S+r.F*!n(8),"Object",{defineProperty:n(7).f})},function(e,t,n){n(53)("asyncIterator")},function(e,t,n){"use strict";var r=n(2),o=n(11),i=n(8),s=n(6),c=n(12),a=n(79).KEY,u=n(9),l=n(34),f=n(27),d=n(17),h=n(1),p=n(54),g=n(53),y=n(80),v=n(55),m=n(5),b=n(4),S=n(16),I=n(22),_=n(23),w=n(43),x=n(82),k=n(45),C=n(7),R=n(18),O=k.f,E=C.f,A=x.f,U=r.Symbol,M=r.JSON,T=M&&M.stringify,j=h("_hidden"),H=h("toPrimitive"),P={}.propertyIsEnumerable,V=l("symbol-registry"),N=l("symbols"),F=l("op-symbols"),L=Object.prototype,D="function"==typeof U,J=r.QObject,X=!J||!J.prototype||!J.prototype.findChild,G=i&&u(function(){return 7!=w(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(L,t);r&&delete L[t],E(e,t,n),r&&e!==L&&E(L,t,r)}:E,q=function(e){var t=N[e]=w(U.prototype);return t._k=e,t},B=D&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},W=function(e,t,n){return e===L&&W(F,t,n),m(e),t=I(t,!0),m(n),o(N,t)?(n.enumerable?(o(e,j)&&e[j][t]&&(e[j][t]=!1),n=w(n,{enumerable:_(0,!1)})):(o(e,j)||E(e,j,_(1,{})),e[j][t]=!0),G(e,t,n)):E(e,t,n)},z=function(e,t){m(e);for(var n,r=y(t=S(t)),o=0,i=r.length;i>o;)W(e,n=r[o++],t[n]);return e},K=function(e){var t=P.call(this,e=I(e,!0));return!(this===L&&o(N,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,j)&&this[j][e])||t)},Y=function(e,t){if(e=S(e),t=I(t,!0),e!==L||!o(N,t)||o(F,t)){var n=O(e,t);return!n||!o(N,t)||o(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=A(S(e)),r=[],i=0;n.length>i;)o(N,t=n[i++])||t==j||t==a||r.push(t);return r},Z=function(e){for(var t,n=e===L,r=A(n?F:S(e)),i=[],s=0;r.length>s;)!o(N,t=r[s++])||n&&!o(L,t)||i.push(N[t]);return i};D||(c((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===L&&t.call(F,n),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),G(this,e,_(1,n))};return i&&X&&G(L,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",function(){return this._k}),k.f=Y,C.f=W,n(44).f=x.f=Q,n(26).f=K,n(36).f=Z,i&&!n(20)&&c(L,"propertyIsEnumerable",K,!0),p.f=function(e){return q(h(e))}),s(s.G+s.W+s.F*!D,{Symbol:U});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=R(h.store),ne=0;te.length>ne;)g(te[ne++]);s(s.S+s.F*!D,"Symbol",{for:function(e){return o(V,e+="")?V[e]:V[e]=U(e)},keyFor:function(e){if(!B(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!D,"Object",{create:function(e,t){return void 0===t?w(e):z(w(e),t)},defineProperty:W,defineProperties:z,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),M&&s(s.S+s.F*(!D||u(function(){var e=U();return"[null]"!=T([e])||"{}"!=T({a:e})||"{}"!=T(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!B(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!B(t))return t}),r[1]=t,T.apply(M,r)}}),U.prototype[H]||n(10)(U.prototype,H,U.prototype.valueOf),f(U,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(5),o=n(81),i=n(35),s=n(33)("IE_PROTO"),c=function(){},a=function(){var e,t=n(30)("iframe"),r=i.length;for(t.style.display="none",n(56).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(47),o=n(35).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(26),o=n(23),i=n(16),s=n(22),c=n(11),a=n(46),u=Object.getOwnPropertyDescriptor;t.f=n(8)?u:function(e,t){if(e=i(e),t=s(t,!0),a)try{return u(e,t)}catch(n){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports=!n(8)&&!n(9)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(11),o=n(16),i=n(48)(!1),s=n(33)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),a=0,u=[];for(n in c)n!=s&&r(c,n)&&u.push(n);for(;t.length>a;)r(c,n=t[a++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(16),o=n(25),i=n(65);e.exports=function(e){return function(t,n,s){var c,a=r(t),u=o(a.length),l=i(s,u);if(e&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((e||l in a)&&a[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(67),o=n(5),i=n(50),s=n(68),c=n(25),a=n(70),u=n(39),l=Math.min,f=[].push,d=!!function(){try{return new RegExp("x","y")}catch(e){}}();n(72)("split",2,function(e,t,n,h){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,c,a=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?4294967295:t>>>0,p=new RegExp(e.source,l+"g");(i=u.call(p,o))&&!((s=p.lastIndex)>d&&(a.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&f.apply(a,i.slice(1)),c=i[0].length,d=s,a.length>=h));)p.lastIndex===i.index&&p.lastIndex++;return d===o.length?!c&&p.test("")||a.push(""):a.push(o.slice(d)),a.length>h?a.slice(0,h):a}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):p.call(String(o),n,r)},function(e,t){var r=h(p,e,this,t,p!==n);if(r.done)return r.value;var u=o(e),f=String(this),g=i(u,RegExp),y=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(d?"y":"g"),m=new g(d?u:"^(?:"+u.source+")",v),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===a(m,f)?[f]:[];for(var S=0,I=0,_=[];I<f.length;){m.lastIndex=d?I:0;var w,x=a(m,d?f:f.slice(I));if(null===x||(w=l(c(m.lastIndex+(d?0:I)),f.length))===S)I=s(f,I,y);else{if(_.push(f.slice(S,I)),_.length===b)return _;for(var k=1;k<=x.length-1;k++)if(_.push(x[k]),_.length===b)return _;I=S=w}}return _.push(f.slice(S)),_}]})},function(e,t,n){var r=n(5),o=n(24),i=n(1)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(6),o=n(48)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(52)(i)),"Array",{indexOf:function(e){return s?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(2),o=n(14),i=n(20),s=n(54),c=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:s.f(e)})}},function(e,t,n){t.f=n(1)},function(e,t,n){var r=n(13);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";n.r(t),n.d(t,"getSystemInfoSync",function(){return o});var r=n(0);function o(){return r.a.systemInfo.SDKVersion=3100,r.a.systemInfo}},function(e,t,n){var r,o,i,s=n(15),c=n(96),a=n(56),u=n(30),l=n(2),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,y=0,v={},m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){m.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++y]=function(){c("function"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete v[e]},"process"==n(13)(f)?r=function(e){f.nextTick(s(m,e,1))}:g&&g.now?r=function(e){g.now(s(m,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=b,r=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){a.appendChild(u("script")).onreadystatechange=function(){a.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){"use strict";var r=n(24);function o(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(7).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(8)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(115),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,o=0,i=e.length||0,s=this.blocks;o<i;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(r=this.start;o<i&&r<64;++o)s[r>>2]|=e[o]<<SHIFT[3&r++];else for(r=this.start;o<i&&r<64;++o)(n=e.charCodeAt(o))<128?s[r>>2]|=n<<SHIFT[3&r++]:n<2048?(s[r>>2]|=(192|n>>6)<<SHIFT[3&r++],s[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(s[r>>2]|=(224|n>>12)<<SHIFT[3&r++],s[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[r>>2]|=(240|n>>18)<<SHIFT[3&r++],s[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],s[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=s[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,o=this.h2,i=this.h3,s=this.h4,c=this.blocks;for(e=16;e<80;++e)t=c[e-3]^c[e-8]^c[e-14]^c[e-16],c[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(s=(t=n<<5|n>>>27)+(r&o|~r&i)+s+1518500249+c[e]<<0)<<5|s>>>27)+(n&(r=r<<30|r>>>2)|~n&o)+i+1518500249+c[e+1]<<0)<<5|i>>>27)+(s&(n=n<<30|n>>>2)|~s&r)+o+1518500249+c[e+2]<<0)<<5|o>>>27)+(i&(s=s<<30|s>>>2)|~i&n)+r+1518500249+c[e+3]<<0)<<5|r>>>27)+(o&(i=i<<30|i>>>2)|~o&s)+n+1518500249+c[e+4]<<0,o=o<<30|o>>>2;for(;e<40;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(s=(t=n<<5|n>>>27)+(r^o^i)+s+1859775393+c[e]<<0)<<5|s>>>27)+(n^(r=r<<30|r>>>2)^o)+i+1859775393+c[e+1]<<0)<<5|i>>>27)+(s^(n=n<<30|n>>>2)^r)+o+1859775393+c[e+2]<<0)<<5|o>>>27)+(i^(s=s<<30|s>>>2)^n)+r+1859775393+c[e+3]<<0)<<5|r>>>27)+(o^(i=i<<30|i>>>2)^s)+n+1859775393+c[e+4]<<0,o=o<<30|o>>>2;for(;e<60;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(s=(t=n<<5|n>>>27)+(r&o|r&i|o&i)+s-1894007588+c[e]<<0)<<5|s>>>27)+(n&(r=r<<30|r>>>2)|n&o|r&o)+i-1894007588+c[e+1]<<0)<<5|i>>>27)+(s&(n=n<<30|n>>>2)|s&r|n&r)+o-1894007588+c[e+2]<<0)<<5|o>>>27)+(i&(s=s<<30|s>>>2)|i&n|s&n)+r-1894007588+c[e+3]<<0)<<5|r>>>27)+(o&(i=i<<30|i>>>2)|o&s|i&s)+n-1894007588+c[e+4]<<0,o=o<<30|o>>>2;for(;e<80;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(s=(t=n<<5|n>>>27)+(r^o^i)+s-899497514+c[e]<<0)<<5|s>>>27)+(n^(r=r<<30|r>>>2)^o)+i-899497514+c[e+1]<<0)<<5|i>>>27)+(s^(n=n<<30|n>>>2)^r)+o-899497514+c[e+2]<<0)<<5|o>>>27)+(i^(s=s<<30|s>>>2)^n)+r-899497514+c[e+3]<<0)<<5|r>>>27)+(o^(i=i<<30|i>>>2)^s)+n-899497514+c[e+4]<<0,o=o<<30|o>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+r<<0,this.h2=this.h2+o<<0,this.h3=this.h3+i<<0,this.h4=this.h4+s<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(113),__webpack_require__(114))},function(e,t,n){"use strict";var r;if(n.r(t),n.d(t,"hg",function(){return r}),n(63),window.hg)console.log("hago jssdk init defined, export old"),r=window.hg;else{var o=n(66),i=n(74),s=n(75),c=n(76),a=n(77),u=n(78),l=n(57),f=n(89),d=n(111),h=n(112),p=n(116),g=n(117),y=n(118),v=n(119),m=n(124),b=n(125),S=n(126);console.log("hago jssdk init hg not defined, export new"),r=window.yyrt?Object.assign({},o,i,c,a,s,u,l,f,d,h,p,y,v,m,b,S):Object.assign({},o,i,c,a,s,u,l,f,d,h,p,y,v,g)}},function(e,t,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(64)})},function(e,t,n){"use strict";var r=n(18),o=n(36),i=n(26),s=n(37),c=n(31),a=Object.assign;e.exports=!a||n(9)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=a({},e)[n]||Object.keys(a({},t)).join("")!=r})?function(e){for(var t=s(e),n=arguments.length,a=1,u=o.f,l=i.f;n>a;)for(var f,d=c(arguments[a++]),h=u?r(d).concat(u(d)):r(d),p=h.length,g=0;p>g;)l.call(d,f=h[g++])&&(t[f]=d[f]);return t}:a},function(e,t,n){var r=n(32),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"login",function(){return o});var r=n(0);function o(e){console.log("hg.login called");var t=r.a.code;console.log("hg.login result "+t),e&&e.success&&e.success({code:t}),e&&e.complete&&e.complete()}},function(e,t,n){var r=n(4),o=n(13),i=n(1)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){"use strict";var r=n(69)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(32),o=n(19);e.exports=function(e){return function(t,n){var i,s,c=String(o(t)),a=r(n),u=c.length;return a<0||a>=u?e?"":void 0:(i=c.charCodeAt(a))<55296||i>56319||a+1===u||(s=c.charCodeAt(a+1))<56320||s>57343?e?c.charAt(a):i:e?c.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(38),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(73);var r=n(12),o=n(10),i=n(9),s=n(19),c=n(1),a=n(39),u=c("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=c(e),h=!i(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),p=h?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t}):void 0;if(!h||!p||"replace"===e&&!l||"split"===e&&!f){var g=/./[d],y=n(s,d,""[e],function(e,t,n,r,o){return t.exec===a?h&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=y[0],m=y[1];r(String.prototype,e,v),o(RegExp.prototype,d,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t,n){"use strict";var r=n(39);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";n.r(t),n.d(t,"getFriendCloudStorage",function(){return i}),n.d(t,"getUserCloudStorage",function(){return s}),n.d(t,"removeUserCloudStorage",function(){return c}),n.d(t,"setUserCloudStorage",function(){return a});var r=n(3),o=n(0);function i(e){console.log("getFriendCloudStorage called"),o.a.getFriendUids(function(t){console.log("friendUidList",t);var n={uids:t,keylist:e.keyList},i=JSON.stringify(n);console.log("getFriendCloudStorage dataStr",i),r.a.getApi("/lianyun/kv/getFriendCloudStorage",{data:i,js_code:o.a.code},function(t,n){console.log("getFriendCloudStorage res ",t,n),t&&0==n.errcode?e.success(n.data):e.fail(n)})})}function s(e){console.log("getUserCloudStorage called");var t=JSON.stringify(e.keyList);console.log("getUserCloudStorage keyListStr",t),r.a.getApi("/lianyun/kv/getUserCloudStorage",{keylist:t,js_code:o.a.code},function(t,n){console.log("hagosdk getUserCloudStorage "+t+",res:"+JSON.stringify(n)),t&&0==n.errcode?e.success(n.data):e.fail(n)})}function c(e){console.log("removeUserCloudStorage called");var t=JSON.stringify(e.keyList);console.log("removeUserCloudStorage keyListStr",t),r.a.getApi("/lianyun/kv/removeUserCloudStorage",{keylist:t,js_code:o.a.code},function(t,n){console.log("removeUserCloudStorage res ",t,n),t&&0==n.errcode?e.success(n.data):e.fail(n)})}function a(e){console.log("setUserCloudStorage called");var t=JSON.stringify(e.KVDataList);console.log("setUserCloudStorage keyDadaStr",t),r.a.getApi("/lianyun/kv/setUserCloudStorage",{kvdata:t,js_code:o.a.code},function(t,n){console.log("setUserCloudStorage res ",t,n),t&&0==n.errcode?e.success(n.data):e.fail(n)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"exitMiniProgram",function(){return o}),n.d(t,"updateCloseView",function(){return i}),n.d(t,"gameLoadResult",function(){return s});var r=n(0);function o(e){r.a.webDebug?alert("call exitMiniProgram success!"):(e||(e={exitConfirm:!0}),e.exitConfirm||(e.exitConfirm=!1),r.a.asyncV1("hg.exitMiniProgram",{confirm:e.exitConfirm}),console.log("confirm "+e.exitConfirm))}function i(e){r.a.webDebug?alert("call updateCloseView success!"):r.a.async("hg.updateCloseView",e)}function s(e){e||(e={}),console.log("call hg.gameLoadResult "+e.code),e.code||(e.code=0),r.a.webDebug?console.log("call gameLoadResult success!"):r.a.async("hg.gameLoad",e),r.a.gameUrl&&(0===e.code?r.a.asyncV1("hg.onGameStageChange",{stage:3}):r.a.asyncV1("hg.onGameStageChange",{stage:4,message:e.message}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"requestPayment",function(){return i});var r=n(0),o=n(29);function i(e){console.log("hg.requestPayment "+JSON.stringify(e)),e.subject||console.log("ERROR requestPayment() param must have subject"),e.item_id?e.transaction_id?r.a.webDebug?s(e):c(e):(e.fail&&e.fail({errCode:102,errMsg:"ERROR requestPayment() param must have transaction_id"}),e.complete&&e.complete()):(e.fail&&e.fail({errCode:102,errMsg:"ERROR requestPayment() param must have item_id"}),e.complete&&e.complete())}function s(e){if(!confirm("OK ===> user pay success\n Cancel ==> user pay error"))return e.fail&&e.fail({errCode:3,errMsg:"user cancel"}),void(e.complete&&e.complete());var t=new XMLHttpRequest;t.open("POST","https://i-test-863.ihago.net/ymicro/api?token=12345",!0),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.setRequestHeader("X-Ymicro-Api-Service-Name","net.ihago.money.api.pay"),t.setRequestHeader("X-Ymicro-Api-Method-Name","Pay.FakeReChargeMsg");var n=r.a.gameId;if(!n)return e.fail&&e.fail({errCode:-1,errMsg:"no gameId"}),void(e.complete&&e.complete());var o={uid:r.a.uid,createTime:+Math.round((new Date).getTime()/1e3),finishTime:+Math.round((new Date).getTime()/1e3),amount:1,transactionHago:"kwb_test_fake_hagoid_"+Math.round((new Date).getTime()/1e3),status:1,chargeConfigID:e.item_id,expand:'{"quantity":"1","unitPrice":1,"product_id":"hago_58diam_1.99","hdid":"ef7b9350c93fc289b350a28458ac6b7f","srcCurrencySymbol":"$","gameId":"'+n+'","itemId":'+e.item_id+',"companyId":"'+n+'","openId":"'+r.a.openid+'","chargeEntry":9,"companyOrderId":"'+e.transaction_id+'","goodsName":"'+e.subject+'","countryCode":"'+r.a.countryCode+'","clientVersion":"2.9.0","isSandBoxOrder":"true"}'};console.log("hagosdk fake pay params "+JSON.stringify(o)),t.send(JSON.stringify(o)),t.onloadend=function(){console.log("hagosdk fake pay response "+t.response);var n=JSON.parse(t.response);0===n.code?e.success&&e.success({errCode:1,errMsg:"success"}):e.fail&&e.fail({errCode:n.code,errMsg:n.message}),e.complete&&e.complete()}}function c(e){r.a.async("hg.requestPayment",{item_id:e.item_id,transaction_id:e.transaction_id,subject:e.subject,openid:r.a.openid},function(t){0==t.errCode?(e.success&&e.success({errCode:t.errCode,errMsg:t.errMsg}),e.complete&&e.complete()):(e.fail&&e.fail({errCode:t.errCode,errMsg:t.errMsg}),e.complete&&e.complete()),o.a.reportMetrics({uri:"request_payment/"+r.a.gameId,time:0,code:t.errCode})})}},function(e,t,n){"use strict";n.r(t),n.d(t,"hideShareMenu",function(){return i}),n.d(t,"showShareMenu",function(){return o});var r=n(0);function o(e){if(e||(e={}),e.title)if(e.content)if(e.imageUrl)if(e.goToUrl){if(r.a.webDebug)return console.log("hagosdk showShareMenu success"),e.success&&e.success({success:"success"}),void(e.complete&&e.complete());r.a.async("hg.showShareMenu",{title:e.title,content:e.content,imageUrl:e.imageUrl,goToUrl:e.goToUrl},function(t){0==t.errCode?e.success&&e.success({success:"success"}):e.fail&&e.fail({errCode:t.errCode,errMsg:t.errMsg})}),e.complete&&e.complete()}else console.error("showShareMenu object.goToUrl is required");else console.error("showShareMenu object.imageUrl is required");else console.error("showShareMenu object.content is required");else console.error("showShareMenu object.title is required")}function i(e){if(r.a.webDebug)return console.log("hagosdk hideShareMenu success"),e.success&&e.success({success:"success"}),void(e.complete&&e.complete());r.a.async("hg.hideShareMenu",{},function(t){0==t.errCode?e.success&&e.success({success:"success"}):e.fail&&e.fail()}),e.complete&&e.complete()}},function(e,t,n){"use strict";n.r(t),n.d(t,"getUserInfo",function(){return o}),n.d(t,"getUserInfoByUids",function(){return i}),n.d(t,"getUid",function(){return c}),n.d(t,"showUserCard",function(){return u}),n(41),n(42),n(28);var r=n(0);function o(e){e&&e.success&&e.success({userInfo:r.a.userInfo})}function i(e){if(!e||!e.uids)return console.error("getUserInfoByUids uids is empty"),void(e&&e.fail&&e.fail({errCode:-1,errMsg:"getUserInfoByUids uids is empty"}));r.a.webDebug?a(e):s(e)}function s(e){r.a.async("hg.getUserInfoByUids",{uids:JSON.stringify(e.uids)},function(t){0===t.errCode?(console.log("getUserInfoByUids success :"+t.users),e.success&&e.success(JSON.parse(t.users))):e.fail&&e.fail({errCode:t.errCode,errMsg:t.errMsg})})}function c(){return r.a.uid}function a(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,s=e.uids[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;t.push({city:"Guangzhou",sex:1,uid:c,birthday:"1980-01-01",zodiac:0,avatar:"https://o-id.ihago.net/user_album/101001211_1532329700765.png",nick:"xxxxx",locationTude:"xxxx"})}}catch(a){r=!0,o=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}e.success&&e.success(t)}function u(e){e&&e.uid?r.a.async("hg.showUserCard",{uid:e.uid}):console.error("showUserCard uid is empty")}},function(e,t,n){var r=n(17)("meta"),o=n(4),i=n(11),s=n(7).f,c=0,a=Object.isExtensible||function(){return!0},u=!n(9)(function(){return a(Object.preventExtensions({}))}),l=function(e){s(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!a(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!a(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&a(e)&&!i(e,r)&&l(e),e}}},function(e,t,n){var r=n(18),o=n(36),i=n(26);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,c=n(e),a=i.f,u=0;c.length>u;)a.call(e,s=c[u++])&&t.push(s);return t}},function(e,t,n){var r=n(7),o=n(5),i=n(18);e.exports=n(8)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),c=s.length,a=0;c>a;)r.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var r=n(16),o=n(44).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?c(e):o(r(e))}},function(e,t,n){"use strict";var r=n(84),o=n(85),i=n(21),s=n(16);e.exports=n(86)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(1)("unscopables"),o=Array.prototype;null==o[r]&&n(10)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(20),o=n(6),i=n(12),s=n(10),c=n(21),a=n(87),u=n(27),l=n(88),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,g,y,v){a(n,t,p);var m,b,S,I=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",w="values"==g,x=!1,k=e.prototype,C=k[f]||k["@@iterator"]||g&&k[g],R=C||I(g),O=g?w?I("entries"):R:void 0,E="Array"==t&&k.entries||C;if(E&&(S=l(E.call(new e)))!==Object.prototype&&S.next&&(u(S,_,!0),r||"function"==typeof S[f]||s(S,f,h)),w&&C&&"values"!==C.name&&(x=!0,R=function(){return C.call(this)}),r&&!v||!d&&!x&&k[f]||s(k,f,R),c[t]=R,c[_]=h,g)if(m={values:w?R:I("values"),keys:y?R:I("keys"),entries:O},v)for(b in m)b in k||i(k,b,m[b]);else o(o.P+o.F*(d||x),t,m);return m}},function(e,t,n){"use strict";var r=n(43),o=n(23),i=n(27),s={};n(10)(s,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(11),o=n(37),i=n(33)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";n.r(t),n.d(t,"createRewardedVideoAd",function(){return a}),n.d(t,"loadRewardedVideoAd",function(){return c}),n(40),n(90),n(104),n(109);var r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(57);var s=function(){function e(t){o(this,e),t.adUnitId||console.error("RewardedVideoAd no adUnitId!"),Number.isInteger(t.adUnitId)||console.error("RewardedVideoAd adUnitId must be int type!"),this.adUnitId=t.adUnitId||0,"Test"===r.a.systemInfo.env&&(console.log("test env use adUnitId 9999"),this.adUnitId=9999)}var t,n;return t=e,(n=[{key:"show",value:function(){var e=this;return new Promise(function(t,n){r.a.webDebug?e.doShowWeb(t,n):e.doShow(t,n)})}},{key:"doShowWeb",value:function(e,t){1==confirm("OK ===> user view success\n Cancel ==> ad load error")?(e(),this.onLoad&&this.onLoad(),this.onClose&&this.onClose({isEnded:!0})):(this.onError&&this.onError(),t(result))}},{key:"doShow",value:function(e,t){var n=this;this.tag=r.a.async("hg.rewardedVideoAd.show",{adUnitId:this.adUnitId},function(o,i){"hg.rewardedVideoAd.show"==i?0==o.errCode?(n.onLoad&&n.onLoad(),e()):1==o.errCode?n.doShow(e,t):(n.onError&&n.onError(),t(o)):"hg.rewardedVideoAd.close"==i&&(n.onClose&&n.onClose({isEnded:0==o.errCode}),r.a.deleteCallbackById(n.tag))},!0)}}])&&i(t.prototype,n),e}();function c(e){console.log("loadRewardedVideoAd "+JSON.stringify(e)),r.a.async("hg.rewardedVideoAd.show",{adUnitId:e.adUnitId,cache:!0},function(t,n){"hg.rewardedVideoAd.show"==n&&(1==t.errCode||0==t.errCode?console.log("hg.rewardedVideoAd cache success"):(console.log("hg.rewardedVideoAd error repeat in 5 seconds:"+t.errCode+",msg:"+t.errMsg),setTimeout(function(){c(e)},5e3)))})}function a(e){return new s(e)}},function(e,t,n){"use strict";var r,o,i,s,c=n(20),a=n(2),u=n(15),l=n(38),f=n(6),d=n(4),h=n(24),p=n(91),g=n(92),y=n(50),v=n(58).set,m=n(97)(),b=n(59),S=n(98),I=n(99),_=n(100),w=a.TypeError,x=a.process,k=x&&x.versions,C=k&&k.v8||"",R=a.Promise,O="process"==l(x),E=function(){},A=o=b.f,U=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(E,E)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t&&0!==C.indexOf("6.6")&&-1===I.indexOf("Chrome/66")}catch(r){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s,c=o?t.ok:t.fail,a=t.resolve,u=t.reject,l=t.domain;try{c?(o||(2==e._h&&P(e),e._h=1),!0===c?n=r:(l&&l.enter(),n=c(r),l&&(l.exit(),s=!0)),n===t.promise?u(w("Promise-chain cycle")):(i=M(n))?i.call(n,a,u):a(n)):u(r)}catch(f){l&&!s&&l.exit(),u(f)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){v.call(a,function(){var t,n,r,o=e._v,i=H(e);if(i&&(t=S(function(){O?x.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=O||H(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},H=function(e){return 1!==e._h&&0===(e._a||e._c).length},P=function(e){v.call(a,function(){var t;O?x.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},V=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=M(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,u(N,r,1),u(V,r,1))}catch(o){V.call(r,o)}}):(n._v=e,n._s=1,T(n,!1))}catch(r){V.call({_w:n,_d:!1},r)}}};U||(R=function(e){p(this,R,"Promise","_h"),h(e),r.call(this);try{e(u(N,this,1),u(V,this,1))}catch(t){V.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(101)(R.prototype,{then:function(e,t){var n=A(y(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(N,e,1),this.reject=u(V,e,1)},b.f=A=function(e){return e===R||e===s?new i(e):o(e)}),f(f.G+f.W+f.F*!U,{Promise:R}),n(27)(R,"Promise"),n(102)("Promise"),s=n(14).Promise,f(f.S+f.F*!U,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(c||!U),"Promise",{resolve:function(e){return _(c&&this===s?R:this,e)}}),f(f.S+f.F*!(U&&n(103)(function(e){R.all(e).catch(E)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=S(function(){var n=[],i=0,s=1;g(e,!1,function(e){var c=i++,a=!1;n.push(void 0),s++,t.resolve(e).then(function(e){a||(a=!0,n[c]=e,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=S(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(15),o=n(93),i=n(94),s=n(5),c=n(25),a=n(95),u={},l={};(t=e.exports=function(e,t,n,f,d){var h,p,g,y,v=d?function(){return e}:a(e),m=r(n,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(h=c(e.length);h>b;b++)if((y=t?m(s(p=e[b])[0],p[1]):m(e[b]))===u||y===l)return y}else for(g=v.call(e);!(p=g.next()).done;)if((y=o(g,m,p.value,t))===u||y===l)return y}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){var i=e.return;throw void 0!==i&&r(i.call(e)),s}}},function(e,t,n){var r=n(21),o=n(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(38),o=n(1)("iterator"),i=n(21);e.exports=n(14).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2),o=n(58).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,c=r.Promise,a="process"==n(13)(s);e.exports=function(){var e,t,n,u=function(){var r,o;for(a&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(a)n=function(){s.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var l=c.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(2).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(5),o=n(4),i=n(59);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(12);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(2),o=n(7),i=n(8),s=n(1)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],c=i[r]();c.next=function(){return{done:n=!0}},i[r]=function(){return c},e(i)}catch(s){}return n}},function(e,t,n){"use strict";var r=n(2),o=n(11),i=n(13),s=n(105),c=n(22),a=n(9),u=n(44).f,l=n(45).f,f=n(7).f,d=n(107).trim,h=r.Number,p=h,g=h.prototype,y="Number"==i(n(43)(g)),v="trim"in String.prototype,m=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=v?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var s,a=t.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||s>o)return NaN;return parseInt(a,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?a(function(){g.valueOf.call(n)}):"Number"!=i(n))?s(new p(m(t)),n,h):m(t)};for(var b,S=n(8)?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;S.length>I;I++)o(p,b=S[I])&&!o(h,b)&&f(h,b,l(p,b));h.prototype=g,g.constructor=h,n(12)(r,"Number",h)}},function(e,t,n){var r=n(4),o=n(106).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(4),o=n(5),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(15)(Function.call,n(45).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(6),o=n(19),i=n(9),s=n(108),c="["+s+"]",a=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),l=function(e,t,n){var o={},c=i(function(){return!!s[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),a=o[e]=c?t(f):s[e];n&&(o[n]=a),r(r.P+r.F*c,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(6);r(r.S,"Number",{isInteger:n(110)})},function(e,t,n){var r=n(4),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){"use strict";n.r(t),n.d(t,"getSubModuleUrlSync",function(){return i});var r=n(0),o=n(29);function i(e){var t=r.a.sync("hg.getSubModule",{id:e.id});console.log("getSubModuleUrlSync "+r.a.gameId+" "+t),console.log("submodule gameId"+r.a.gameId);var n=0;return t||(n=-1),o.a.reportMetrics({uri:"submodule_url/"+r.a.gameId,time:0,code:n}),{url:t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"setRank",function(){return c}),n.d(t,"getRank",function(){return a}),n(60);var r=n(3),o=n(0),i=n(61),s=n.n(i);function c(e){var t=(new Date).getTime(),n=JSON.stringify({tagId:e.name?e.name:"default",rankMode:[e.type?e.type:0],isBigger:!!e.bigFirst,isReplace:!1,score:e.score,timeUnix:t}),i={payload:n,sign:s()(t+n)},c=JSON.stringify(i);console.log("reportRank dataStr",c),r.a.postApi("/lianyun/rank/report?js_code="+o.a.code,i,function(t,n){console.log("reportRank res ",t,n),t&&0==n.errcode?e.success():e.fail(n)})}function a(e){(new Date).getTime();var t={tagId:e.name?e.name:"default",rankMode:e.type?e.type:0,daysDesc:0,page:e.page?e.page:1,size:e.size?e.size:20},n={payload:t},i=JSON.stringify(n);console.log("reportRank dataStr",i),r.a.postApi("/lianyun/rank/global?js_code="+o.a.code,t,function(t,n){console.log("reportRank res ",t,n),t&&0==n.errcode?e.success(n.data):e.fail(n)})}},function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function c(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}})();var a,u=[],l=!1,f=-1;function d(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,l=!1,c(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(){return[]},r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}e.exports=t},function(e){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t),n.d(t,"getAIUser",function(){return i}),n(41),n(42),n(28);var r=n(3),o=n(0);function i(e){console.log("getAIUser called"),e||(e={}),e.num||(e.num=1),console.log("getAIUser num",e.num),r.a.getApi("/AI/get",{data:JSON.stringify(e),js_code:o.a.code},function(t,n){if(console.log("getAIUser res ",t,n),t)if(0==n.errcode){var r=!0,i=!1,s=void 0;try{for(var c,a=n.data[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var u=c.value;u.avataUrl=o.a.resizeImage(u.avataUrl)}}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}e.success(n.data)}else e.fail(n);else e.fail(n)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"initWebDebug",function(){return i});var r=n(0),o=n(3);function i(e){if(window.yyrt)console.error("jssdk in hago app can't initWebDebug");else if(console.log("jssdk initWebDebug"),r.a.webDebug=!0,e&&e.gameId){e.success||(e.success=function(){console.log("jssdk Init success")}),e.fail||(e.fail=function(){console.log("jssdk Init fail")});var t=[void 0,{systemInfo:{brand:"samsung",countryCode:"ID",env:"Test",language:"id",model:"SM-G935V",pixelRatio:480,screenHeight:1920,screenWidth:1080,statusBarHeight:72,windowHeight:1920,windowWidth:1080},uid:101001267,friendUids:[101339111,101339112],tokenData:{adUnitIds:[],code:"9aS1u8bGy1PWyA0yz44NdUOdjLiCEAcAO4VOlUZH1pt7rAFqZTwqm76z0J295JU1piJspleybeKHcetvQ8QdSA==",moduleMap:{},openid:"9WW0Oa0XGRAVXCOwygylq8X5pls6qHj3"},userInfo:{avatarUrl:"https://kaixindou.kaixindou.net/user_avatar/101336588_1527510296077.jpg",city:"",country:"",gender:1,language:"id",nickName:"haha",province:""}},{systemInfo:{brand:"samsung",countryCode:"ID",env:"Test",language:"id",model:"SM-G935V",pixelRatio:480,screenHeight:1920,screenWidth:1080,statusBarHeight:72,windowHeight:1920,windowWidth:1080},uid:101339111,friendUids:[101001267,101339112],tokenData:{adUnitIds:[],code:"dx3I4X1TFsEb7umJgrncAulMGhaztm3RKw_D3cqzPXAMSDy4Qpn532YKV1ZP3JyqCFFJ8n37i9cBDJst4A-5QKFXDh2YOR3En-knKypqvoo=",moduleMap:{},openid:"PLRmzT3TuEM+rL3s6zx0tfkDr52YccLTR0JGAx9DQ6N1rIQL86OGtw=="},userInfo:{avatarUrl:"https://o-hk.ihago.net/ikxd/54366b6b08536a0c5ba4d340fbddf1e2/guest_4.png",city:"",country:"",gender:1,language:"id",nickName:"axdq9183",province:""}},{systemInfo:{brand:"samsung",countryCode:"ID",env:"Test",language:"id",model:"SM-G935V",pixelRatio:480,screenHeight:1920,screenWidth:1080,statusBarHeight:72,windowHeight:1920,windowWidth:1080},uid:101339112,friendUids:[101001267,101339111],tokenData:{adUnitIds:[],code:"N0Mgc2l-xF2KtX19g8o7u6tWZaFQJ99k4h9rS5QJpsRVWUljAa-A3Toh8WK9FNPjNev1zC9uaJtip-gSvagb8qPJSR49MVaPdrk08nRNNW8=",moduleMap:{},openid:"PLRmzT3TuEOgpBXXtSrv/SPj2Dy2mt7Otwt9HGeWFcOkZYJcfxUekA=="},userInfo:{avatarUrl:"https://o-hk.ihago.net/ikxd/3db395b39f961b398ec23fc1e868673f/guest_2.png",city:"",country:"",gender:1,language:"id",nickName:"noms2967",province:""}}];void 0===t[e.user]&&(console.log("jssdk mock user use default 1"),e.user=1);var n=t[e.user];r.a.friendUids=n.friendUids,r.a.uid=n.uid,r.a.systemInfo=n.systemInfo,r.a.userInfo=n.userInfo,r.a.userInfo.openid=n.tokenData.openid,r.a.gameId=e.gameId,e.env&&(r.a.systemInfo.env=e.env),e.countryCode&&(r.a.systemInfo.countryCode=e.countryCode),e.language&&(r.a.systemInfo.language=e.language),console.log("user info",n),o.a.getApi("/jssdk/hagoToken2code",{token:n.uid,gameid:e.gameId},function(t,n){console.log("hagosdk get hagoToken2Code res ",t,n),t?(r.a.code=n.code,r.a.openid=n.openid,0==n.errcode?e.success({msg:"success"}):e.fail({msg:n.msg})):e.fail(n)}),console.log("jssdk initWebDebug gameId",e.gameId)}else e.fail({msg:"invalid object"})}},function(e,t,n){"use strict";n.r(t),n.d(t,"createVoiceChannel",function(){return c}),n(40),n(41),n(42),n(28);var r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;o(this,e),t.channelId||console.error("Channel no channelId"),this.channelId=t.channelId,r.a.listen("hg.channel.micState.callback",function(e){var t=e,r=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var a=s.value;n.micStateCallback&&n.micStateCallback(a.uid,a.state)}}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}),r.a.listen("hg.channel.speakState.callback",function(e){var t=e,r=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var a=s.value;n.speakStateCallback&&n.speakStateCallback(a.uid,a.state)}}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}})}var t,n;return t=e,(n=[{key:"join",value:function(){r.a.async("hg.channel.join",{channelId:this.channelId},function(e,t){console.log("hg.channel.join"+e+t)})}},{key:"exit",value:function(){r.a.async("hg.channel.exit",{channelId:this.channelId},function(e,t){console.log("hg.channel.exit"+e+t)}),r.a.cancelListen("hg.channel.micState.callback"),r.a.cancelListen("hg.channel.speakState.callback")}},{key:"operateMic",value:function(e,t){r.a.async("hg.channel.operateMic",{channelId:this.channelId,operateMic:e},function(e){t&&t(e.code,e.operateMic)})}},{key:"setMicStateCallback",value:function(e){this.micStateCallback=e,r.a.asyncV1("hg.queryMicState",{},function(){})}},{key:"setSpeakStateCallback",value:function(e){this.speakStateCallback=e}}])&&i(t.prototype,n),e}();function c(e){return new s(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getMatchupInfo",function(){return i}),n.d(t,"getMatchupUrl",function(){return f}),n.d(t,"pkStart",function(){return d}),n.d(t,"pkFinish",function(){return p}),n.d(t,"pkFinishError",function(){return g}),n.d(t,"listenPkExit",function(){return u}),n.d(t,"exitPkGame",function(){return l}),n.d(t,"pkResult",function(){return h}),n(60),n(49),n(28),n(120),n(51);var r,o=n(0);function i(){if(o.a.gameUrl){var e=s(o.a.gameUrl).post_data;return console.info("hg.getMatchupInfo "+e),JSON.parse(e)}return{}}function s(e){e||(e=location.href);var t=e.indexOf("?"),n=e.indexOf("#");if(-1==n&&-1==t)return{};-1==n&&(n=e.length);var r=-1==t||n==t+1?e.substring(n):e.substring(t+1,n),o={};return r.split("&").forEach(function(e){if(e){var t=(e=e.split("+").join(" ")).indexOf("="),n=t>-1?e.substr(0,t):e,r=t>-1?decodeURIComponent(e.substr(t+1)):"",i=n.indexOf("[");if(-1==i)o[decodeURIComponent(n)]=r;else{var s=n.indexOf("]",i),c=decodeURIComponent(n.substring(i+1,s));n=decodeURIComponent(n.substring(0,i)),o[n]||(o[n]=[]),c?o[n][c]=r:o[n].push(r)}}}),o}function c(e){r=s(e);var t=a("wsscheme")||"wss",n=a("websocketdomain"),o=a("port"),i=a("sign"),c=a("nonstr"),u=a("timestamp"),l=a("post_data"),f=(a("tpl"),a("ver"),JSON.parse(decodeURIComponent(l))),d=t+"://"+n+":"+o+"/"+f.gameid+"/"+f.roomid+"/?post_data="+encodeURIComponent(l)+"&timestamp="+u+"&nonstr="+encodeURIComponent(c)+"&sign="+i;return console.log("hagosdk wssUrl "+d),d}function a(e){return r[e]}function u(e){o.a.listen("hg.pkExit.notify",e)}function l(){o.a.asyncV1("hg.pkExit")}function f(){return c(o.a.gameUrl)}function d(){o.a.asyncV1("hg.onGameStageChange",{stage:6})}function h(e){o.a.asyncV1("hg.pkResult",{result:JSON.stringify(e)})}function p(e){o.a.asyncV1("hg.onGameStageChange",{stage:7,result:JSON.stringify(e)})}function g(e){o.a.asyncV1("hg.onGameStageChange",{stage:8,message:e.message})}},function(e,t,n){"use strict";var r=n(6),o=n(121)(0),i=n(52)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(15),o=n(31),i=n(37),s=n(25),c=n(122);e.exports=function(e,t){var n=1==e,a=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,h=t||c;return function(t,c,p){for(var g,y,v=i(t),m=o(v),b=r(c,p,3),S=s(m.length),I=0,_=n?h(t,S):a?h(t,0):void 0;S>I;I++)if((d||I in m)&&(y=b(g=m[I],I,v),e))if(n)_[I]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return I;case 2:_.push(g)}else if(l)return!1;return f?-1:u||l?l:_}}},function(e,t,n){var r=n(123);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(4),o=n(55),i=n(1)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeGame",function(){return s}),n.d(t,"unsubscribeGame",function(){return c}),n.d(t,"getGameSubscribeStatus",function(){return a}),n.d(t,"sendMsgInGame",function(){return o}),n.d(t,"getGameInviteInfo",function(){return i});var r=n(0);function o(e){e&&e.toUserId&&e.gameId?r.a.asyncV1("hg.sendMsgInGame",{gameId:e.gameId,roomId:e.roomId?e.roomId:"default",toUserId:e.toUserId,content:e.toUserId,infoPayLoad:e.infoPayLoad}):console.error("sendMsgInGame invalid object "+e)}function i(){return r.a.gameInviteInfo}function s(e){e&&e.gameId||console.error("subscribeGame empty gameId"),r.a.asyncV1("hg.subscribeGame",{gameId:e.gameId})}function c(e){e&&e.gameId?r.a.asyncV1("hg.unsubscribeGame",{gameId:e.gameId}):console.error("unsubscribeGame empty gameId")}function a(e){e&&e.gameId||console.error("getGameSubscribeStatus empty gameId"),r.a.asyncV1("hg.getGameSubscribeStatus",{gameId:e.gameId},function(t){e.success&&e.success(t.status)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFriendInfos",function(){return o}),n.d(t,"addFriend",function(){return i});var r=n(0);function o(e){e?r.a.asyncV1("hg.getFriendInfos",{},function(t){0===t.errCode?(console.log("getFriendInfos success "+t.users),e.success&&e.success(JSON.parse(t.users))):e.fail&&e.fail({errCode:t.errCode,errMsg:t.errMsg})}):console.error("invalid object")}function i(e){e&&e.uid?r.a.asyncV1("hg.addFriend",{uid:e.uid},function(t){1===t.code?(console.log("addFriend success"),e.success&&e.success({errCode:t.code})):e.fail&&e.fail({errCode:t.code})}):console.error("addFriend no uid")}},function(e,t,n){"use strict";n.r(t),n.d(t,"startVoiceRecord",function(){return s}),n.d(t,"cancelVoiceRecord",function(){return u}),n.d(t,"stopVoiceRecord",function(){return a}),n.d(t,"uploadVoiceRecord",function(){return l}),n.d(t,"playVoiceRecord",function(){return d}),n.d(t,"stopPlayVoiceRecord",function(){return p}),n.d(t,"pausePlayVoiceRecord",function(){return g}),n.d(t,"resumePlayVoiceRecord",function(){return y}),n.d(t,"downLoadVoiceRecord",function(){return v}),n.d(t,"cancelDownLoadVoiceRecord",function(){return b}),n.d(t,"setDownLoadVoiceRecordCallback",function(){return m}),n.d(t,"setPlayVoiceRecordCallback",function(){return h}),n.d(t,"setStartVoiceRecordCallback",function(){return c}),n.d(t,"setUploadVoiceRecordCallback",function(){return f}),n.d(t,"isRecordSupport",function(){return o}),n.d(t,"requestRecordAudioPermission",function(){return i});var r=n(0);function o(e){e||console.error("isRecordSupport empty object"),r.a.asyncV1("hg.isRecordSupport(",{},function(t){e.success&&e.success(t.support)})}function i(e){e&&e.gameId?r.a.asyncV1("hg.requestRecordAudioPermission",{gameId:e.gameId},function(t){e.success&&e.success(t.result)}):console.error("requestRecordAudioPermission empty gameId")}function s(e){e&&e.gameId&&e.roomId?r.a.asyncV1("hg.startVoiceRecord",{gameId:e.gameId,roomId:e.roomId,maxDuration:e.maxDuration}):console.error("startVoiceRecord invalid object"+e)}function c(e){r.a.listen("hg.startVoiceRecord.callback",function(t){console.log("startvoicecallback "+JSON.stringify(date)),e&&e(t.code,t.localId,t.result)})}function a(e){e&&e.localId?r.a.asyncV1("hg.stopVoiceRecord",{localId:e.localId},function(){}):console.error("stopVoiceRecord empty localId")}function u(e){e&&e.localId||console.log("cancelVoiceRecord empty localId"),r.a.asyncV1("hg.cancelVoiceRecord",{localId:e.localId},function(){})}function l(e){e&&e.localId?r.a.asyncV1("hg.uploadVoiceRecord",{localId:e.localId}):console.error("uploadVoiceRecord empty localId")}function f(e){r.a.listen("hg.uploadVoiceRecord.callback",function(t){e&&e(t.code,t.recordUrl,t.result)})}function d(e){e&&e.recordId?r.a.asyncV1("hg.playVoiceRecord",{recordId:e.recordId}):console.log("playVoiceRecord empty recordId")}function h(e){r.a.listen("hg.playVoiceRecord.callback",function(t){e&&e(t.code,t.recordId,t.result)})}function p(e){e&&e.recordId?r.a.asyncV1("hg.stopPlayVoiceRecord",{recordId:e.recordId}):console.log("stopPlayVoiceRecord empty recordId")}function g(e){e&&e.recordId?r.a.asyncV1("hg.pausePlayVoiceRecord",{recordId:e.recordId}):console.log("pausePlayVoiceRecord empty recordId")}function y(e){e&&e.recordId?r.a.asyncV1("hg.resumePlayVoiceRecord",{recordId:e.recordId}):console.log("resumePlayVoiceRecord empty recordId")}function v(e){e&&e.recordUrl&&r.a.asyncV1("hg.downLoadVoiceRecord",{recordUrl:e.recordUrl})}function m(e){r.a.listen("hg.downLoadVoiceRecord.callback",function(t){e&&e(t.code,t.recordUrl,t.result)})}function b(e){e&&e.recordId?r.a.asyncV1("hg.cancelDownLoadVoiceRecord",{recordUrl:e.recordUrl}):console.log("resumePlayVoiceRecord empty recordId")}}]));